

import { GoogleGenerativeAI } from "@google/generative-ai";






  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

  export  const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate travel plan for location : Las vages for 3 dyas for couple with a cheapbudget , give me a hotels options list with hotel name ,hotel address,price, hotel image url , geo cordinates , rating,descriptions and suggest itineraly with placename,Place details ,place image url GEo coordinates, ticket pricing ,arting,Time travel each loaction for 3 days each day plan with best time to vist in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travel_plan\": {\n    \"destination\": \"Las Vegas\",\n    \"duration\": 3,\n    \"budget\": \"cheap\",\n    \"travelers\": \"couple\",\n    \"hotels\": [\n      {\n        \"name\": \"The D Las Vegas\",\n        \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n        \"price\": \"from $35/night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/898000/897800/897898.jpg\",\n        \"geo_coordinates\": \"36.1699, -115.1425\",\n        \"rating\": 4,\n        \"description\": \"A vibrant and affordable hotel located in the heart of downtown Las Vegas, offering a casino, multiple dining options, and a lively atmosphere.\"\n      },\n      {\n        \"name\": \"Plaza Hotel & Casino\",\n        \"address\": \"1 Main Street, Las Vegas, NV 89101\",\n        \"price\": \"from $40/night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/899000/898989/898989.jpg\",\n        \"geo_coordinates\": \"36.1698, -115.1407\",\n        \"rating\": 4.5,\n        \"description\": \"A classic Las Vegas hotel with a vintage charm, featuring a casino, dining, and entertainment options, conveniently located in the Fremont Street Experience.\"\n      },\n      {\n        \"name\": \"Golden Nugget Las Vegas\",\n        \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n        \"price\": \"from $50/night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/899000/898952/898952.jpg\",\n        \"geo_coordinates\": \"36.1696, -115.1404\",\n        \"rating\": 4,\n        \"description\": \"A luxurious hotel with a captivating shark tank, a casino, multiple dining options, and a lively pool area, located in the heart of Fremont Street.\"\n      },\n      {\n        \"name\": \"Circus Circus Hotel & Casino\",\n        \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"from $30/night\",\n        \"image_url\": \"https://images.trvl-media.com/hotels/1000000/900000/897000/896984/896984.jpg\",\n        \"geo_coordinates\": \"36.1104, -115.1722\",\n        \"rating\": 3.5,\n        \"description\": \"A family-friendly hotel offering a circus theme, carnival games, and a wide range of dining options, located on the Strip.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"title\": \"Exploring Downtown Las Vegas\",\n        \"activities\": [\n          {\n            \"name\": \"Fremont Street Experience\",\n            \"details\": \"A vibrant pedestrian mall with a massive video screen, live music, and street performers. Enjoy the energy of downtown Las Vegas.\",\n            \"image_url\": \"https://www.vegasexperience.com/wp-content/uploads/2016/05/Fremont-Street-Experience-Las-Vegas-Nevada.jpg\",\n            \"geo_coordinates\": \"36.1699, -115.1425\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.5,\n            \"time\": \"10:00 AM - 1:00 PM\"\n          },\n          {\n            \"name\": \"Mob Museum\",\n            \"details\": \"Learn about the history of organized crime in Las Vegas, featuring interactive exhibits and stories of notorious figures.\",\n            \"image_url\": \"https://www.themobmuseum.org/media/1779/mob-museum-exterior-5.jpg\",\n            \"geo_coordinates\": \"36.1691, -115.1438\",\n            \"ticket_pricing\": \"$25-$30\",\n            \"rating\": 4,\n            \"time\": \"1:30 PM - 4:00 PM\"\n          },\n          {\n            \"name\": \"Dinner at a Downtown Eatery\",\n            \"details\": \"Enjoy a casual dinner at one of the many diverse restaurants in downtown Las Vegas.\",\n            \"image_url\": \"https://www.lasvegas.com/wp-content/uploads/2023/03/Las-Vegas-Downtown-Dining.jpg\",\n            \"geo_coordinates\": \"36.1701, -115.1419\",\n            \"ticket_pricing\": \"Varies\",\n            \"rating\": 4,\n            \"time\": \"5:00 PM - 7:00 PM\"\n          },\n          {\n            \"name\": \"Evening Walk on Fremont Street\",\n            \"details\": \"Experience the vibrant nightlife on Fremont Street, with street performers and entertainment options.\",\n            \"image_url\": \"https://www.vegasexperience.com/wp-content/uploads/2016/05/Fremont-Street-Experience-Las-Vegas-Nevada.jpg\",\n            \"geo_coordinates\": \"36.1699, -115.1425\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4,\n            \"time\": \"8:00 PM - 10:00 PM\"\n          }\n        ]\n      },\n      {\n        \"day\": 2,\n        \"title\": \"Exploring the Las Vegas Strip\",\n        \"activities\": [\n          {\n            \"name\": \"Bellagio Fountains\",\n            \"details\": \"Witness the iconic synchronized water and music show in front of the Bellagio hotel.\",\n            \"image_url\": \"https://www.bellagio.com/content/dam/MGMResorts/Bellagio/Images/Featured/Bellagio-Fountain-Show-Aerial-View-v2.jpg\",\n            \"geo_coordinates\": \"36.1145, -115.1726\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.5,\n            \"time\": \"11:00 AM - 1:00 PM\"\n          },\n          {\n            \"name\": \"The Venetian & The Palazzo\",\n            \"details\": \"Explore the luxurious Venetian and Palazzo hotels, including the Grand Canal Shoppes and the replica of Venice.\",\n            \"image_url\": \"https://www.venetian.com/content/dam/MGMResorts/Venetian/Images/Featured/venetian-facade-front-daytime.jpg\",\n            \"geo_coordinates\": \"36.1129, -115.1723\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4,\n            \"time\": \"1:30 PM - 4:00 PM\"\n          },\n          {\n            \"name\": \"Dinner at a Strip Buffet\",\n            \"details\": \"Enjoy a delicious and affordable buffet at one of the many casino hotels on the Strip.\",\n            \"image_url\": \"https://www.thelinq.com/content/dam/TheLinq/restaurants/caesar-buffet/images/hero-caesar-buffet.jpg\",\n            \"geo_coordinates\": \"36.1201, -115.1713\",\n            \"ticket_pricing\": \"$25-$40\",\n            \"rating\": 4,\n            \"time\": \"5:00 PM - 7:00 PM\"\n          },\n          {\n            \"name\": \"Free Show at a Casino\",\n            \"details\": \"Catch a free show at one of the casinos on the Strip, such as a magic show or a musical performance.\",\n            \"image_url\": \"https://www.mgmresorts.com/content/dam/MGMResorts/MGMGrand/Images/Featured/MGM-Grand-Hotel-Exterior-01.jpg\",\n            \"geo_coordinates\": \"36.1069, -115.1713\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4,\n            \"time\": \"8:00 PM - 10:00 PM\"\n          }\n        ]\n      },\n      {\n        \"day\": 3,\n        \"title\": \"Day Trip to Red Rock Canyon National Conservation Area\",\n        \"activities\": [\n          {\n            \"name\": \"Scenic Drive through Red Rock Canyon\",\n            \"details\": \"Enjoy a scenic drive through the Red Rock Canyon National Conservation Area, featuring stunning rock formations and desert landscapes.\",\n            \"image_url\": \"https://www.nps.gov/redr/planyourvisit/images/redrockcanyon.jpg\",\n            \"geo_coordinates\": \"36.1859, -115.3386\",\n            \"ticket_pricing\": \"$15 per vehicle\",\n            \"rating\": 4.5,\n            \"time\": \"9:00 AM - 12:00 PM\"\n          },\n          {\n            \"name\": \"Hiking Trail at Red Rock Canyon\",\n            \"details\": \"Choose a hiking trail to explore the diverse landscapes of Red Rock Canyon, offering options for all skill levels.\",\n            \"image_url\": \"https://www.nps.gov/redr/planyourvisit/images/redrockcanyon.jpg\",\n            \"geo_coordinates\": \"36.1859, -115.3386\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.5,\n            \"time\": \"12:30 PM - 3:00 PM\"\n          },\n          {\n            \"name\": \"Picnic Lunch at Red Rock Canyon\",\n            \"details\": \"Enjoy a picnic lunch at one of the designated picnic areas within Red Rock Canyon, surrounded by stunning natural beauty.\",\n            \"image_url\": \"https://www.nps.gov/redr/planyourvisit/images/redrockcanyon.jpg\",\n            \"geo_coordinates\": \"36.1859, -115.3386\",\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.5,\n            \"time\": \"3:30 PM - 5:00 PM\"\n          },\n          {\n            \"name\": \"Dinner at a Local Restaurant\",\n            \"details\": \"Enjoy a casual dinner at one of the many restaurants near Red Rock Canyon, savoring the flavors of the region.\",\n            \"image_url\": \"https://www.tripadvisor.com/Tourism-g45963-Restaurants-Las_Vegas-Vacations.html\",\n            \"geo_coordinates\": \"36.1859, -115.3386\",\n            \"ticket_pricing\": \"Varies\",\n            \"rating\": 4,\n            \"time\": \"7:00 PM - 9:00 PM\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Explanation of the JSON format:**\n\n* **`travel_plan`:** The main object containing details of the travel plan.\n* **`destination`:** The city being visited (Las Vegas).\n* **`duration`:** The length of the trip (3 days).\n* **`budget`:** The budget type (\"cheap\").\n* **`travelers`:** The type of travelers (\"couple\").\n* **`hotels`:** An array of hotel objects, each containing:\n    * **`name`:** The hotel name.\n    * **`address`:** The hotel address.\n    * **`price`:** A range of price estimates.\n    * **`image_url`:** URL of an image for the hotel.\n    * **`geo_coordinates`:** Latitude and longitude coordinates for the hotel.\n    * **`rating`:** The hotel's average rating (out of 5 stars).\n    * **`description`:** A short description of the hotel.\n* **`itinerary`:** An array of day objects, each containing:\n    * **`day`:** The day number (1, 2, or 3).\n    * **`title`:** The theme or focus of the day.\n    * **`activities`:** An array of activity objects, each containing:\n        * **`name`:** The name of the activity.\n        * **`details`:** A description of the activity.\n        * **`image_url`:** URL of an image for the activity.\n        * **`geo_coordinates`:** Coordinates for the location of the activity.\n        * **`ticket_pricing`:** Estimated ticket prices.\n        * **`rating`:** The activity's rating (out of 5 stars).\n        * **`time`:** Suggested time slot for the activity.\n\n**Note:** \n\n* The provided hotel and activity information is for reference only and may vary depending on availability and prices.\n* The itinerary is just a suggestion, and you can customize it based on your interests and preferences.\n* Consider checking for current prices and availability before booking hotels or tickets."},
          ],
        },
      ],
    });
  


    export const AI_PROMPT = 'Generate travel plan for location :{location} for {totalDays} with a {budget} , give me a hotels options list with hotel name ,hotel address,price, hotel image url , geo cordinates , rating,descriptions and suggest itineraly with placename,Place details ,place image url GEo coordinates, ticket pricing ,arting,Time travel each loaction for  each day plan with best time to vist in JSON format'